<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SubModules &#8212; SPC-EyePi 3.2 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">SPC-EyePi</a></h1>



<p class="blurb">Capture/Control software for DSLRs, USB cameras, and the Raspberry Pi camera.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=borevitzlab&repo=spc-eyepi&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ansible.html">Ansible Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">General Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="py-modindex.html">Module Index</a></li>
</ul>


  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">SubModules</a><ul>
<li><a class="reference internal" href="#libs-camera">libs.Camera</a></li>
<li><a class="reference internal" href="#module-libs.CryptUtil">libs.CryptUtil</a></li>
<li><a class="reference internal" href="#module-libs.Light">libs.Light</a></li>
<li><a class="reference internal" href="#module-libs.PanTilt">libs.PanTilt</a></li>
<li><a class="reference internal" href="#module-libs.Sensor">libs.Sensor</a></li>
<li><a class="reference internal" href="#module-libs.SysUtil">libs.SysUtil</a></li>
<li><a class="reference internal" href="#module-libs.Updater">libs.Updater</a></li>
<li><a class="reference internal" href="#module-libs.Uploader">libs.Uploader</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="submodules">
<h1>SubModules<a class="headerlink" href="#submodules" title="Permalink to this headline">§</a></h1>
<div class="section" id="libs-camera">
<h2>libs.Camera<a class="headerlink" href="#libs-camera" title="Permalink to this headline">§</a></h2>
</div>
<div class="section" id="module-libs.CryptUtil">
<span id="libs-cryptutil"></span><h2>libs.CryptUtil<a class="headerlink" href="#module-libs.CryptUtil" title="Permalink to this headline">§</a></h2>
<dl class="class">
<dt id="libs.CryptUtil.SSHManager">
<em class="property">class </em><code class="descclassname">libs.CryptUtil.</code><code class="descname">SSHManager</code><span class="sig-paren">(</span><em>path='/home/.ssh'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/CryptUtil.html#SSHManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.CryptUtil.SSHManager" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>a manager of ssh keys, with the ability to sign messages using them.</p>
<dl class="method">
<dt id="libs.CryptUtil.SSHManager.get_new_key_from_server">
<code class="descname">get_new_key_from_server</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/CryptUtil.html#SSHManager.get_new_key_from_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.CryptUtil.SSHManager.get_new_key_from_server" title="Permalink to this definition">§</a></dt>
<dd><p>acquires an ssh key from the server with a token and writes the key to the current path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>token</strong> &#8211; a string token to send to the server.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">boolean indicating whether the operation was successful.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.CryptUtil.SSHManager.paramiko_key">
<code class="descname">paramiko_key</code><a class="headerlink" href="#libs.CryptUtil.SSHManager.paramiko_key" title="Permalink to this definition">§</a></dt>
<dd><p>property for a key usable by paramiko</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">agentKey for use by paramiko/pysftp</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.paramiko.org/en/latest/api/keys.html#paramiko.rsakey.RSAKey" title="(in Paramiko v)">paramiko.rsakey.RSAKey</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.CryptUtil.SSHManager.public_ssh_key_string">
<code class="descname">public_ssh_key_string</code><a class="headerlink" href="#libs.CryptUtil.SSHManager.public_ssh_key_string" title="Permalink to this definition">§</a></dt>
<dd><p>property for the public ssh key string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string of the ssh public key, encoded to be added to a authorized_keys file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="libs.CryptUtil.SSHManager.sign_message">
<code class="descname">sign_message</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/CryptUtil.html#SSHManager.sign_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.CryptUtil.SSHManager.sign_message" title="Permalink to this definition">§</a></dt>
<dd><p>signs a text message using the internal key</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> &#8211; utf-8 encoded string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">signature for message.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.CryptUtil.SSHManager.ssh_key">
<code class="descname">ssh_key</code><a class="headerlink" href="#libs.CryptUtil.SSHManager.ssh_key" title="Permalink to this definition">§</a></dt>
<dd><p>ssh key property
sets the internal rsa key and the agentKey for use by paramiko.</p>
</dd></dl>

<dl class="method">
<dt id="libs.CryptUtil.SSHManager.write_key_to_path">
<code class="descname">write_key_to_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/CryptUtil.html#SSHManager.write_key_to_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.CryptUtil.SSHManager.write_key_to_path" title="Permalink to this definition">§</a></dt>
<dd><p>writes internally stored public and private keys to their respective paths</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="libs.CryptUtil.serialize_signature">
<code class="descclassname">libs.CryptUtil.</code><code class="descname">serialize_signature</code><span class="sig-paren">(</span><em>signature: bytes</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/CryptUtil.html#serialize_signature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.CryptUtil.serialize_signature" title="Permalink to this definition">§</a></dt>
<dd><p>formats the signature for the server, with the correct boundaries</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>signature</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bytes" title="(in Python v3.5)"><em>bytes</em></a>) &#8211; raw bytes signature.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">str formatted signature for sending to the server.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="libs.CryptUtil.ssh_public_key">
<code class="descclassname">libs.CryptUtil.</code><code class="descname">ssh_public_key</code><span class="sig-paren">(</span><em>keypair: cryptography.hazmat.primitives.asymmetric.rsa.RSAPrivateKeyWithSerialization</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/CryptUtil.html#ssh_public_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.CryptUtil.ssh_public_key" title="Permalink to this definition">§</a></dt>
<dd><p>converts an rsa keypair to openssh format public key</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keypair</strong> (<a class="reference external" href="https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/#cryptography.hazmat.primitives.asymmetric.rsa.RSAPrivateKeyWithSerialization" title="(in Cryptography v1.8.dev1)"><em>cryptography.hazmat.primitives.asymmetric.rsa.RSAPrivateKeyWithSerialization</em></a>) &#8211; keypair.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">string of public key</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-libs.Light">
<span id="libs-light"></span><h2>libs.Light<a class="headerlink" href="#module-libs.Light" title="Permalink to this headline">§</a></h2>
<dl class="class">
<dt id="libs.Light.Controller">
<em class="property">class </em><code class="descclassname">libs.Light.</code><code class="descname">Controller</code><span class="sig-paren">(</span><em>config_section: dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Controller" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>controller abstract that takes a dictionary config section and sets self attributes to it.</p>
<dl class="method">
<dt id="libs.Light.Controller.get_wavelength">
<code class="descname">get_wavelength</code><span class="sig-paren">(</span><em>wavelength: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Controller.get_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Controller.get_wavelength" title="Permalink to this definition">§</a></dt>
<dd><p>gets the power of a specific wavelength
:param wavelength: wavelength string to get the power of (eg 400nm)
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Light.Controller.set_all">
<code class="descname">set_all</code><span class="sig-paren">(</span><em>power: int = None</em>, <em>percent: int = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Controller.set_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Controller.set_all" title="Permalink to this definition">§</a></dt>
<dd><p>sets all wavelengths to either an absolute value or a percentage of the total
:param power:
:param percent:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Light.Controller.set_all_wavelengths">
<code class="descname">set_all_wavelengths</code><span class="sig-paren">(</span><em>values: dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Controller.set_all_wavelengths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Controller.set_all_wavelengths" title="Permalink to this definition">§</a></dt>
<dd><p>sets all wavelengths to specific values.
only absolute values may be specified
values should be specified as a dict of wavelength: value
:param values: dict of wavelengths and their respective values
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Light.Controller.set_wavelength">
<code class="descname">set_wavelength</code><span class="sig-paren">(</span><em>wl: str</em>, <em>power: int = None</em>, <em>percent: int = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Controller.set_wavelength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Controller.set_wavelength" title="Permalink to this definition">§</a></dt>
<dd><p>sets a specific wavelength to a value
either a power or a percent must be specified
:param wl: string of wavelength name (eg 400nm)
:param power: absolute power value
:param percent: percent value, calculated from min/max.
:return:</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Light.HTTPController">
<em class="property">class </em><code class="descclassname">libs.Light.</code><code class="descname">HTTPController</code><span class="sig-paren">(</span><em>config_section</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#HTTPController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.HTTPController" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libs.Light.Controller" title="libs.Light.Controller"><code class="xref py py-class docutils literal"><span class="pre">libs.Light.Controller</span></code></a></p>
<dl class="method">
<dt id="libs.Light.HTTPController.kill_schedule">
<code class="descname">kill_schedule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#HTTPController.kill_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.HTTPController.kill_schedule" title="Permalink to this definition">§</a></dt>
<dd><p>turns off all the heliospectras internal scheduling sysm
:return:</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Light.Light">
<em class="property">class </em><code class="descclassname">libs.Light.</code><code class="descname">Light</code><span class="sig-paren">(</span><em>identifier: str = None</em>, <em>queue: collections.deque = None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Light"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Light" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Schedule runner for a light.</p>
<dl class="attribute">
<dt id="libs.Light.Light.accuracy">
<code class="descname">accuracy</code><em class="property"> = 3</em><a class="headerlink" href="#libs.Light.Light.accuracy" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Light.Light.calculate_current_state">
<code class="descname">calculate_current_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Light.calculate_current_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Light.calculate_current_state" title="Permalink to this definition">§</a></dt>
<dd><p>determines the current state the lights should be in.
doesnt send the state.
sets the internal state of the Light object
:param nowdt:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Light.Light.communicate_with_updater">
<code class="descname">communicate_with_updater</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Light.communicate_with_updater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Light.communicate_with_updater" title="Permalink to this definition">§</a></dt>
<dd><p>communication member. This is meant to send some metadata to the updater thread.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Light.Light.re_init">
<code class="descname">re_init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Light.re_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Light.re_init" title="Permalink to this definition">§</a></dt>
<dd><p>re-initialisation.
this causes all the confiuration values to be reacquired, and a config to be recreated as valid if it is broken.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Light.Light.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Light.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Light.run" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Light.Light.send_state">
<code class="descname">send_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Light.send_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Light.send_state" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Light.Light.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Light.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Light.stop" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Light.Light.test">
<code class="descname">test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#Light.test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.Light.test" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Light.TelNetController">
<em class="property">class </em><code class="descclassname">libs.Light.</code><code class="descname">TelNetController</code><span class="sig-paren">(</span><em>config_section</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#TelNetController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.TelNetController" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libs.Light.Controller" title="libs.Light.Controller"><code class="xref py py-class docutils literal"><span class="pre">libs.Light.Controller</span></code></a></p>
<p>controller for a telnet device</p>
</dd></dl>

<dl class="class">
<dt id="libs.Light.ThreadedLights">
<em class="property">class </em><code class="descclassname">libs.Light.</code><code class="descname">ThreadedLights</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Light.html#ThreadedLights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.ThreadedLights" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Thread" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">threading.Thread</span></code></a></p>
<p>threaded implementation.</p>
</dd></dl>

<dl class="function">
<dt id="libs.Light.clamp">
<code class="descclassname">libs.Light.</code><code class="descname">clamp</code><span class="sig-paren">(</span><em>v: float</em>, <em>minimum: float</em>, <em>maximum: float</em><span class="sig-paren">)</span> &rarr; float<a class="reference internal" href="_modules/libs/Light.html#clamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Light.clamp" title="Permalink to this definition">§</a></dt>
<dd><p>clamps a number to the minimum and maximum.
:param v:
:param minimum:
:param maximum:
:return:</p>
</dd></dl>

</div>
<div class="section" id="module-libs.PanTilt">
<span id="libs-pantilt"></span><h2>libs.PanTilt<a class="headerlink" href="#module-libs.PanTilt" title="Permalink to this headline">§</a></h2>
<dl class="class">
<dt id="libs.PanTilt.PanTilt">
<em class="property">class </em><code class="descclassname">libs.PanTilt.</code><code class="descname">PanTilt</code><span class="sig-paren">(</span><em>ip=None</em>, <em>user=None</em>, <em>password=None</em>, <em>config=None</em>, <em>queue=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#PanTilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.PanTilt" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Control J-Systems PTZ</p>
<p>For new system or new firmware, the system needs calibration as follows:
- Open URL of the PTZ on a web browser
- Click on &#8220;Calibration&#8221; tab, enter username and password if necessary
- On Calibration window, click on &#8220;Open-loop&#8221; and then &#8220;Set Mode&#8221;
- Use joystick controller to rotate the pan axis to minimum position
- Click on &#8216;Pan Axis Min&#8217; line, enter &#8216;2.0&#8217;, and click &#8220;Set Calibration&#8221;
- Use joystick controller to rotate the pan axis to maximum position
- Click on &#8216;Pan Axis Max&#8217; line, enter &#8216;358.0&#8217;, and click &#8220;Set Calibration&#8221;
- Use joystick controller to rotate the tilt axis to minimum position
- Click on &#8216;Tilt Axis Min&#8217; line, enter &#8216;-90.0&#8217;, and click &#8220;Set Calibration&#8221;
- Use joystick controller to rotate the tilt axis to maximum position
- Click on &#8216;Tilt Axis Max&#8217; line, enter &#8216;30.0&#8217;, and click &#8220;Set Calibration&#8221;
- Click on &#8220;Closed-loop&#8221; and then &#8220;Set Mode&#8221;
- Close Calibration window</p>
<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.PCCWLS">
<code class="descname">PCCWLS</code><a class="headerlink" href="#libs.PanTilt.PanTilt.PCCWLS" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.PCWLS">
<code class="descname">PCWLS</code><a class="headerlink" href="#libs.PanTilt.PanTilt.PCWLS" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.TDnLS">
<code class="descname">TDnLS</code><a class="headerlink" href="#libs.PanTilt.PanTilt.TDnLS" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.TUpLS">
<code class="descname">TUpLS</code><a class="headerlink" href="#libs.PanTilt.PanTilt.TUpLS" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.auto_patrol">
<code class="descname">auto_patrol</code><a class="headerlink" href="#libs.PanTilt.PanTilt.auto_patrol" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.battery_voltage">
<code class="descname">battery_voltage</code><a class="headerlink" href="#libs.PanTilt.PanTilt.battery_voltage" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.PanTilt.PanTilt.communicate_with_updater">
<code class="descname">communicate_with_updater</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#PanTilt.communicate_with_updater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.PanTilt.communicate_with_updater" title="Permalink to this definition">§</a></dt>
<dd><p>communication member. This is meant to send some metadata to the updater thread.
:return:</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.control_mode">
<code class="descname">control_mode</code><a class="headerlink" href="#libs.PanTilt.PanTilt.control_mode" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.dwell">
<code class="descname">dwell</code><a class="headerlink" href="#libs.PanTilt.PanTilt.dwell" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="libs.PanTilt.PanTilt.get_value_from_plaintext">
<em class="property">static </em><code class="descname">get_value_from_plaintext</code><span class="sig-paren">(</span><em>message</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#PanTilt.get_value_from_plaintext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.PanTilt.get_value_from_plaintext" title="Permalink to this definition">§</a></dt>
<dd><p>gets float, int or string values from a xml string where the key is the tag of the first element with value as
text.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>message</strong> &#8211; </li>
<li><strong>args</strong> &#8211; list of keys to find values for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)">dict</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict of arg: value pairs requested</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="libs.PanTilt.PanTilt.get_value_from_stream">
<code class="descname">get_value_from_stream</code><span class="sig-paren">(</span><em>stream</em>, <em>*keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#PanTilt.get_value_from_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.PanTilt.get_value_from_stream" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="libs.PanTilt.PanTilt.get_value_from_xml">
<em class="property">static </em><code class="descname">get_value_from_xml</code><span class="sig-paren">(</span><em>message_xml</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#PanTilt.get_value_from_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.PanTilt.get_value_from_xml" title="Permalink to this definition">§</a></dt>
<dd><p>gets float, int or string values from a xml string where the key is the tag of the first element with value as
text.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>message_xml</strong> &#8211; the xml to searach in.</li>
<li><strong>args</strong> &#8211; list of keys to find values for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)">dict</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict of arg: value pairs requested</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.heater">
<code class="descname">heater</code><a class="headerlink" href="#libs.PanTilt.PanTilt.heater" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.PanTilt.PanTilt.hold_pan_tilt">
<code class="descname">hold_pan_tilt</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#PanTilt.hold_pan_tilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.PanTilt.hold_pan_tilt" title="Permalink to this definition">§</a></dt>
<dd><p>unknown, presumably holds the pan-tilt in one place.
doesnt work...
:param state: ? beats me.
:return:</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.list_index">
<code class="descname">list_index</code><a class="headerlink" href="#libs.PanTilt.PanTilt.list_index" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.list_state">
<code class="descname">list_state</code><a class="headerlink" href="#libs.PanTilt.PanTilt.list_state" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.pan">
<code class="descname">pan</code><a class="headerlink" href="#libs.PanTilt.PanTilt.pan" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.pan_range">
<code class="descname">pan_range</code><a class="headerlink" href="#libs.PanTilt.PanTilt.pan_range" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.PanTilt.PanTilt.pan_step">
<code class="descname">pan_step</code><span class="sig-paren">(</span><em>direction</em>, <em>n_steps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#PanTilt.pan_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.PanTilt.pan_step" title="Permalink to this definition">§</a></dt>
<dd><p>pans by step, steps must be less than or equal to 127
:type n_steps: int
:type direction: str
:param direction:
:param n_steps: integer &lt;= 127. number of steps
:return:</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.position">
<code class="descname">position</code><a class="headerlink" href="#libs.PanTilt.PanTilt.position" title="Permalink to this definition">§</a></dt>
<dd><p>gets the current pan/tilt position.
:return: tuple (pan, tilt)</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.scale">
<code class="descname">scale</code><a class="headerlink" href="#libs.PanTilt.PanTilt.scale" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.temp_f">
<code class="descname">temp_f</code><a class="headerlink" href="#libs.PanTilt.PanTilt.temp_f" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.tilt">
<code class="descname">tilt</code><a class="headerlink" href="#libs.PanTilt.PanTilt.tilt" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.tilt_range">
<code class="descname">tilt_range</code><a class="headerlink" href="#libs.PanTilt.PanTilt.tilt_range" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.PanTilt.PanTilt.tilt_step">
<code class="descname">tilt_step</code><span class="sig-paren">(</span><em>direction</em>, <em>n_steps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#PanTilt.tilt_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.PanTilt.tilt_step" title="Permalink to this definition">§</a></dt>
<dd><p>tilts by step, steps must be less than or equal to 127
:type n_steps: int
:type direction: str
:param direction:
:param n_steps: integer &lt;= 127. number of steps
:return:</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.zoom_list">
<code class="descname">zoom_list</code><a class="headerlink" href="#libs.PanTilt.PanTilt.zoom_list" title="Permalink to this definition">§</a></dt>
<dd><p>List of zoom value intervals.</p>
<p>Setting this also affects the state of other related variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Getter:</th><td class="field-body">cached.</td>
</tr>
<tr class="field-even field"><th class="field-name">Setter:</th><td class="field-body">recalculates, recalculates fov lists, resets zoom_position.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.zoom_position">
<code class="descname">zoom_position</code><a class="headerlink" href="#libs.PanTilt.PanTilt.zoom_position" title="Permalink to this definition">§</a></dt>
<dd><p>Zoom Position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Getter:</th><td class="field-body">from camera.</td>
</tr>
<tr class="field-even field"><th class="field-name">Setter:</th><td class="field-body">to camera.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.5)">tuple</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.PanTilt.PanTilt.zoom_range">
<code class="descname">zoom_range</code><a class="headerlink" href="#libs.PanTilt.PanTilt.zoom_range" title="Permalink to this definition">§</a></dt>
<dd><p>Range of zoom for the camera.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Getter:</th><td class="field-body">from camera.</td>
</tr>
<tr class="field-even field"><th class="field-name">Setter:</th><td class="field-body">cached.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.5)">tuple</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.PanTilt.ThreadedPTZ">
<em class="property">class </em><code class="descclassname">libs.PanTilt.</code><code class="descname">ThreadedPTZ</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#ThreadedPTZ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.ThreadedPTZ" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Thread" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">threading.Thread</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="libs.PanTilt.ThreadedPanTilt">
<em class="property">class </em><code class="descclassname">libs.PanTilt.</code><code class="descname">ThreadedPanTilt</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#ThreadedPanTilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.ThreadedPanTilt" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libs.PanTilt.ThreadedPTZ" title="libs.PanTilt.ThreadedPTZ"><code class="xref py py-class docutils literal"><span class="pre">libs.PanTilt.ThreadedPTZ</span></code></a>, <a class="reference internal" href="#libs.PanTilt.PanTilt" title="libs.PanTilt.PanTilt"><code class="xref py py-class docutils literal"><span class="pre">libs.PanTilt.PanTilt</span></code></a></p>
<dl class="method">
<dt id="libs.PanTilt.ThreadedPanTilt.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/PanTilt.html#ThreadedPanTilt.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.PanTilt.ThreadedPanTilt.run" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-libs.Sensor">
<span id="libs-sensor"></span><h2>libs.Sensor<a class="headerlink" href="#module-libs.Sensor" title="Permalink to this headline">§</a></h2>
<dl class="class">
<dt id="libs.Sensor.DHTMonitor">
<em class="property">class </em><code class="descclassname">libs.Sensor.</code><code class="descname">DHTMonitor</code><span class="sig-paren">(</span><em>identifier: str = None</em>, <em>pin: int = 14</em>, <em>sensor_type='AM2302'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#DHTMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.DHTMonitor" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libs.Sensor.Sensor" title="libs.Sensor.Sensor"><code class="xref py py-class docutils literal"><span class="pre">libs.Sensor.Sensor</span></code></a></p>
<p>Data logger class for DHT11, DHT22 &amp; AM2302 GPIO temperature &amp; humidity sensors from Adafruit.</p>
<p>supply the identifier and the gpio pi that the sensor is connected to, along with the type of sensor.
defaults to pin 14, DHT22</p>
<dl class="attribute">
<dt id="libs.Sensor.DHTMonitor.data_headers">
<code class="descname">data_headers</code><em class="property"> = ('humidity', 'temperature')</em><a class="headerlink" href="#libs.Sensor.DHTMonitor.data_headers" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Sensor.DHTMonitor.get_measurement">
<code class="descname">get_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; tuple<a class="reference internal" href="_modules/libs/Sensor.html#DHTMonitor.get_measurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.DHTMonitor.get_measurement" title="Permalink to this definition">§</a></dt>
<dd><p>gets data from the DHT22
:return:</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Sensor.SenseHatMonitor">
<em class="property">class </em><code class="descclassname">libs.Sensor.</code><code class="descname">SenseHatMonitor</code><span class="sig-paren">(</span><em>identifier: str = None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#SenseHatMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.SenseHatMonitor" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libs.Sensor.Sensor" title="libs.Sensor.Sensor"><code class="xref py py-class docutils literal"><span class="pre">libs.Sensor.Sensor</span></code></a></p>
<p>Data logger class for Astro Pi Sensehat
No need to supply anything except the identifier as the SenseHad uses some kind of black sorcery to work it out.</p>
<dl class="attribute">
<dt id="libs.Sensor.SenseHatMonitor.data_headers">
<code class="descname">data_headers</code><em class="property"> = ('temperature', 'humidity', 'pressure')</em><a class="headerlink" href="#libs.Sensor.SenseHatMonitor.data_headers" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Sensor.SenseHatMonitor.get_measurement">
<code class="descname">get_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; tuple<a class="reference internal" href="_modules/libs/Sensor.html#SenseHatMonitor.get_measurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.SenseHatMonitor.get_measurement" title="Permalink to this definition">§</a></dt>
<dd><p>get measurements for sensehat
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Sensor.SenseHatMonitor.show_data">
<code class="descname">show_data</code><span class="sig-paren">(</span><em>measurement</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#SenseHatMonitor.show_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.SenseHatMonitor.show_data" title="Permalink to this definition">§</a></dt>
<dd><p>displays the data on the osd.
:param measurement:
:return:</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Sensor.Sensor">
<em class="property">class </em><code class="descclassname">libs.Sensor.</code><code class="descname">Sensor</code><span class="sig-paren">(</span><em>identifier: str = None</em>, <em>queue: collections.deque = None</em>, <em>write_out: bool = True</em>, <em>interval: int = 60</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#Sensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Sensor base.
To use this class you need to override &#8216;get_measurement()&#8217; so that it returns a tuple of the measurements that match
the headers defined in the data_headers classvar.
by default it will write 5 files, rolling 24 hour files (csv, tsv &amp; json) and all time files that are appended to
(csv &amp; tsv only)</p>
<dl class="attribute">
<dt id="libs.Sensor.Sensor.accuracy">
<code class="descname">accuracy</code><em class="property"> = 1</em><a class="headerlink" href="#libs.Sensor.Sensor.accuracy" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Sensor.Sensor.append_to_alltime">
<code class="descname">append_to_alltime</code><span class="sig-paren">(</span><em>measurement: tuple</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#Sensor.append_to_alltime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor.append_to_alltime" title="Permalink to this definition">§</a></dt>
<dd><p>appends the measurement to the csv and tsv files.
:param measurement:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Sensor.Sensor.communicate_with_updater">
<code class="descname">communicate_with_updater</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#Sensor.communicate_with_updater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor.communicate_with_updater" title="Permalink to this definition">§</a></dt>
<dd><p>communication member. This is meant to send some metadata to the updater thread.
:return:</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.Sensor.Sensor.data_headers">
<code class="descname">data_headers</code><em class="property"> = ()</em><a class="headerlink" href="#libs.Sensor.Sensor.data_headers" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Sensor.Sensor.get_measurement">
<code class="descname">get_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#Sensor.get_measurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor.get_measurement" title="Permalink to this definition">§</a></dt>
<dd><p>override this method with the method of collecting measurements from the sensor
should return a list or tuple
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Sensor.Sensor.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#Sensor.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor.run" title="Permalink to this definition">§</a></dt>
<dd><p>run method.
used for threaded sensors
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Sensor.Sensor.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#Sensor.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor.stop" title="Permalink to this definition">§</a></dt>
<dd><p>stops the thread.
:return:</p>
</dd></dl>

<dl class="staticmethod">
<dt id="libs.Sensor.Sensor.time2seconds">
<em class="property">static </em><code class="descname">time2seconds</code><span class="sig-paren">(</span><em>t: &lt;module 'datetime' from '/usr/lib/python3.6/datetime.py'&gt;</em><span class="sig-paren">)</span> &rarr; int<a class="reference internal" href="_modules/libs/Sensor.html#Sensor.time2seconds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor.time2seconds" title="Permalink to this definition">§</a></dt>
<dd><p>converts a datetime to an integer of seconds since epoch</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.Sensor.Sensor.time_to_measure">
<code class="descname">time_to_measure</code><a class="headerlink" href="#libs.Sensor.Sensor.time_to_measure" title="Permalink to this definition">§</a></dt>
<dd><p>filters out times for mesauring, returns True by default
returns False if the conditions where the sensor should NOT capture are met.
:return:</p>
</dd></dl>

<dl class="staticmethod">
<dt id="libs.Sensor.Sensor.timestamp">
<em class="property">static </em><code class="descname">timestamp</code><span class="sig-paren">(</span><em>tn: datetime.datetime</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/Sensor.html#Sensor.timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor.timestamp" title="Permalink to this definition">§</a></dt>
<dd><p>creates a properly formatted timestamp.
:param tn: datetime to format to timestream timestamp string
:return:</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.Sensor.Sensor.timestamped_filename">
<code class="descname">timestamped_filename</code><a class="headerlink" href="#libs.Sensor.Sensor.timestamped_filename" title="Permalink to this definition">§</a></dt>
<dd><p>builds a timestamped image basename without extension from a datetime.
:param time_now:
:return: string image basename</p>
</dd></dl>

<dl class="method">
<dt id="libs.Sensor.Sensor.write_daily_rolling">
<code class="descname">write_daily_rolling</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#Sensor.write_daily_rolling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.Sensor.write_daily_rolling" title="Permalink to this definition">§</a></dt>
<dd><p>writes full rolling daily daita files.
:param rows:
:return:</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Sensor.ThreadedDHT">
<em class="property">class </em><code class="descclassname">libs.Sensor.</code><code class="descname">ThreadedDHT</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#ThreadedDHT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.ThreadedDHT" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libs.Sensor.ThreadedSensor" title="libs.Sensor.ThreadedSensor"><code class="xref py py-class docutils literal"><span class="pre">libs.Sensor.ThreadedSensor</span></code></a>, <a class="reference internal" href="#libs.Sensor.DHTMonitor" title="libs.Sensor.DHTMonitor"><code class="xref py py-class docutils literal"><span class="pre">libs.Sensor.DHTMonitor</span></code></a></p>
<p>threaded implementation for the Adafruit DHT/AM GPIO sensor module</p>
<dl class="method">
<dt id="libs.Sensor.ThreadedDHT.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#ThreadedDHT.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.ThreadedDHT.run" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Sensor.ThreadedSenseHat">
<em class="property">class </em><code class="descclassname">libs.Sensor.</code><code class="descname">ThreadedSenseHat</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#ThreadedSenseHat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.ThreadedSenseHat" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libs.Sensor.ThreadedSensor" title="libs.Sensor.ThreadedSensor"><code class="xref py py-class docutils literal"><span class="pre">libs.Sensor.ThreadedSensor</span></code></a>, <a class="reference internal" href="#libs.Sensor.SenseHatMonitor" title="libs.Sensor.SenseHatMonitor"><code class="xref py py-class docutils literal"><span class="pre">libs.Sensor.SenseHatMonitor</span></code></a></p>
<p>threaded implementation for the AstroPI SenseHat</p>
<dl class="method">
<dt id="libs.Sensor.ThreadedSenseHat.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#ThreadedSenseHat.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.ThreadedSenseHat.run" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Sensor.ThreadedSensor">
<em class="property">class </em><code class="descclassname">libs.Sensor.</code><code class="descname">ThreadedSensor</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#ThreadedSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.ThreadedSensor" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Thread" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">threading.Thread</span></code></a></p>
<p>threaded implementation of the sensor cclass.</p>
<dl class="method">
<dt id="libs.Sensor.ThreadedSensor.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Sensor.html#ThreadedSensor.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Sensor.ThreadedSensor.run" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-libs.SysUtil">
<span id="libs-sysutil"></span><h2>libs.SysUtil<a class="headerlink" href="#module-libs.SysUtil" title="Permalink to this headline">§</a></h2>
<dl class="class">
<dt id="libs.SysUtil.SysUtil">
<em class="property">class </em><code class="descclassname">libs.SysUtil.</code><code class="descname">SysUtil</code><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>System utility class.
Helper class to cache various things like the hostname, machine-id, amount of space in the filesystem.</p>
<dl class="attribute">
<dt id="libs.SysUtil.SysUtil.a_statvfs">
<code class="descname">a_statvfs</code><em class="property"> = os.statvfs_result(f_bsize=4096, f_frsize=4096, f_blocks=28682898, f_bfree=8349916, f_bavail=6887132, f_files=7299072, f_ffree=6476607, f_favail=6476607, f_flag=1024, f_namemax=255)</em><a class="headerlink" href="#libs.SysUtil.SysUtil.a_statvfs" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.add_watch">
<em class="property">classmethod </em><code class="descname">add_watch</code><span class="sig-paren">(</span><em>path: str</em>, <em>callback</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.add_watch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.add_watch" title="Permalink to this definition">§</a></dt>
<dd><p>adds a watch that calls the callback on file change</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; path of the file to watch</li>
<li><strong>callback</strong> &#8211; function signature to call when the file is changed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.clear_files">
<em class="property">classmethod </em><code class="descname">clear_files</code><span class="sig-paren">(</span><em>filenames: list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.clear_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.clear_files" title="Permalink to this definition">§</a></dt>
<dd><p>removes all files in the list provided, skipping and logging on an error removing
todo: Do different things based on whether is a directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filenames</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.5)"><em>tuple</em></a>) &#8211; list of directories or files</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.configs_from_identifiers">
<em class="property">classmethod </em><code class="descname">configs_from_identifiers</code><span class="sig-paren">(</span><em>identifiers: set</em><span class="sig-paren">)</span> &rarr; dict<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.configs_from_identifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.configs_from_identifiers" title="Permalink to this definition">§</a></dt>
<dd><p>given a set of identifiers, returns a dictionary of the data contained in those config files with the key
for each config file data being the identifier</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifiers</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em><em></em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dictionary of configuration datas</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)">dict</a>(str: dict)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="libs.SysUtil.SysUtil.default_identifier">
<em class="property">static </em><code class="descname">default_identifier</code><span class="sig-paren">(</span><em>prefix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.default_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.default_identifier" title="Permalink to this definition">§</a></dt>
<dd><p>returns an identifier, If no prefix available, generates something.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prefix</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">string of the itentifier.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.ensure_config">
<em class="property">classmethod </em><code class="descname">ensure_config</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.ensure_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.ensure_config" title="Permalink to this definition">§</a></dt>
<dd><p>ensures a configuration file exists for this identifier.
if a config file doesnt exist then it will create a default one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; identifier to create or find a configuration file for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the configuration file dict or configparser object.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)">dict</a> or <a class="reference external" href="https://docs.python.org/3.5/library/configparser.html#configparser.ConfigParser" title="(in Python v3.5)">configparser.ConfigParser</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.ensure_light_config">
<em class="property">classmethod </em><code class="descname">ensure_light_config</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.ensure_light_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.ensure_light_config" title="Permalink to this definition">§</a></dt>
<dd><p>ensures a configuration file exists for this identifier.
if a config file doesnt exist then it will create a default one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; identifier of the light</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">configuration for the light</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/configparser.html#configparser.ConfigParser" title="(in Python v3.5)">configparser.ConfigParser</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_external_ip">
<em class="property">classmethod </em><code class="descname">get_external_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_external_ip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_external_ip" title="Permalink to this definition">§</a></dt>
<dd><p>returns the external IP address of the raspberry pi through api.ipify.org</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the external ip address</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_fs_space">
<em class="property">classmethod </em><code class="descname">get_fs_space</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; tuple<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_fs_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_fs_space" title="Permalink to this definition">§</a></dt>
<dd><p>returns free/total space of root filesystem as bytes(?)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple of free/total space</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.5)">tuple</a>[<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a>, <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)">int</a>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_fs_space_mb">
<em class="property">classmethod </em><code class="descname">get_fs_space_mb</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; tuple<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_fs_space_mb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_fs_space_mb" title="Permalink to this definition">§</a></dt>
<dd><p>returns the filesystems free space in mebibytes.
see <a class="reference internal" href="#libs.SysUtil.SysUtil.get_fs_space" title="libs.SysUtil.SysUtil.get_fs_space"><code class="xref py py-func docutils literal"><span class="pre">get_fs_space()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple of free/total space</td>
</tr>
</tbody>
</table>
<p>:rtype:tuple[int, int]</p>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_hostname">
<em class="property">classmethod </em><code class="descname">get_hostname</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_hostname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_hostname" title="Permalink to this definition">§</a></dt>
<dd><p>gets the current hostname.
if there is no /etc/hostname file, sets the hostname randomly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the current hostname or the hostname it was set to</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_identifier_from_filename">
<em class="property">classmethod </em><code class="descname">get_identifier_from_filename</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_identifier_from_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_identifier_from_filename" title="Permalink to this definition">§</a></dt>
<dd><p>returns either the identifier (from the file name) or the name filled with the machine id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">string identifier,</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_identifier_from_name">
<em class="property">classmethod </em><code class="descname">get_identifier_from_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_identifier_from_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_identifier_from_name" title="Permalink to this definition">§</a></dt>
<dd><p>returns either the identifier (from name) or the name filled with the machine id
clamps to 32 characters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; name to fill</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">filled name</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_internal_ip">
<em class="property">classmethod </em><code class="descname">get_internal_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_internal_ip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_internal_ip" title="Permalink to this definition">§</a></dt>
<dd><p>gets the internal ip by attempting to connect to googles DNS</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the current internal ip</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_isonow">
<em class="property">classmethod </em><code class="descname">get_isonow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_isonow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_isonow" title="Permalink to this definition">§</a></dt>
<dd><p>gets the current time as an iso8601 string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the current time as iso8601</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_light_configs">
<em class="property">classmethod </em><code class="descname">get_light_configs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_light_configs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_light_configs" title="Permalink to this definition">§</a></dt>
<dd><p>gets a dict of the light config files (.ini)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict of light configs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)">dict</a>(str: configparser.ConfigParser)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_light_datafile">
<em class="property">classmethod </em><code class="descname">get_light_datafile</code><span class="sig-paren">(</span><em>identifier: str</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_light_datafile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_light_datafile" title="Permalink to this definition">§</a></dt>
<dd><p>gets a light datafile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; identifier to use to find the data file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">file path for csv or slc.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_log_files">
<em class="property">classmethod </em><code class="descname">get_log_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; list<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_log_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_log_files" title="Permalink to this definition">§</a></dt>
<dd><p>returns the spc-eyepi log files that have been rotated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of filenames</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a>(<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_machineid">
<em class="property">classmethod </em><code class="descname">get_machineid</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_machineid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_machineid" title="Permalink to this definition">§</a></dt>
<dd><p>gets the machine id, or initialises the machine id if it doesnt exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string of the machine-id</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_tor_host">
<em class="property">classmethod </em><code class="descname">get_tor_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; tuple<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_tor_host"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_tor_host" title="Permalink to this definition">§</a></dt>
<dd><p>gets a tuple of the current tor host.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple of hostname(onion address), client key, client name</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.5)">tuple</a>[<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a>, <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a>, <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.get_version">
<em class="property">classmethod </em><code class="descname">get_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.get_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.get_version" title="Permalink to this definition">§</a></dt>
<dd><p>gets the &#8220;describe&#8221; version of the current git repo as a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the current version</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.identifier_to_ini">
<em class="property">classmethod </em><code class="descname">identifier_to_ini</code><span class="sig-paren">(</span><em>identifier: str</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.identifier_to_ini"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.identifier_to_ini" title="Permalink to this definition">§</a></dt>
<dd><p>gets a valid .ini path for an identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> &#8211; identifier to find an ini for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">file path for identifier</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.identifier_to_yml">
<em class="property">classmethod </em><code class="descname">identifier_to_yml</code><span class="sig-paren">(</span><em>identifier: str</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.identifier_to_yml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.identifier_to_yml" title="Permalink to this definition">§</a></dt>
<dd><p>the same as identifier_to_ini but for yml files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; identifier for a matching yml file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">string filepath for the yml file.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.light_identifier_to_ini">
<em class="property">classmethod </em><code class="descname">light_identifier_to_ini</code><span class="sig-paren">(</span><em>identifier: str</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.light_identifier_to_ini"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.light_identifier_to_ini" title="Permalink to this definition">§</a></dt>
<dd><p>gets a valid .ini path for an identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; identifier for a light</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ini filename for a light</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.load_or_fix_solarcalc">
<em class="property">classmethod </em><code class="descname">load_or_fix_solarcalc</code><span class="sig-paren">(</span><em>identifier: str</em><span class="sig-paren">)</span> &rarr; list<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.load_or_fix_solarcalc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.load_or_fix_solarcalc" title="Permalink to this definition">§</a></dt>
<dd><p>function to either load an existing fixed up solarcalc file or to coerce one into the fixed format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; identifier of the light for which the solarcalc file exists.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">light timing data as a list of lists.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a>(<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)">list</a>())</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.SysUtil.SysUtil.logger">
<code class="descname">logger</code><em class="property"> = &lt;Logger SysUtil (WARNING)&gt;</em><a class="headerlink" href="#libs.SysUtil.SysUtil.logger" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.open_yaml">
<em class="property">classmethod </em><code class="descname">open_yaml</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.open_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.open_yaml" title="Permalink to this definition">§</a></dt>
<dd><p>opens a yaml file using yaml.load</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> &#8211; yaml file to load</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dictionary of values in yaml file</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="libs.SysUtil.SysUtil.reset_usb_device">
<em class="property">static </em><code class="descname">reset_usb_device</code><span class="sig-paren">(</span><em>bus: int</em>, <em>dev: int</em><span class="sig-paren">)</span> &rarr; bool<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.reset_usb_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.reset_usb_device" title="Permalink to this definition">§</a></dt>
<dd><p>resets a usb device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bus</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) &#8211; bus number</li>
<li><strong>dev</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) &#8211; device number of the device on the bus above</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.set_hostname">
<em class="property">classmethod </em><code class="descname">set_hostname</code><span class="sig-paren">(</span><em>hostname: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.set_hostname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.set_hostname" title="Permalink to this definition">§</a></dt>
<dd><p>sets the machines hosname, in /etc/hosts and /etc/hostname</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>hostname</strong> &#8211; the string of which to set the hostname to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="libs.SysUtil.SysUtil.sizeof_fmt">
<em class="property">static </em><code class="descname">sizeof_fmt</code><span class="sig-paren">(</span><em>num</em>, <em>suffix='B'</em><span class="sig-paren">)</span> &rarr; str<a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.sizeof_fmt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.sizeof_fmt" title="Permalink to this definition">§</a></dt>
<dd><p>formats a number of bytes in to a human readable string.
returns in SI units
eg sizeof_fmt(1234) returns &#8216;1.2KiB&#8217;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num</strong> &#8211; number of bytes to format</li>
<li><strong>suffix</strong> &#8211; the suffix to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">human formattted string.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)">str</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.SysUtil.SysUtil.stop">
<code class="descname">stop</code><em class="property"> = False</em><a class="headerlink" href="#libs.SysUtil.SysUtil.stop" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="libs.SysUtil.SysUtil.thread">
<code class="descname">thread</code><em class="property"> = None</em><a class="headerlink" href="#libs.SysUtil.SysUtil.thread" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.update_from_git">
<em class="property">classmethod </em><code class="descname">update_from_git</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.update_from_git"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.update_from_git" title="Permalink to this definition">§</a></dt>
<dd><p>updates spc-eyepi from git.</p>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.write_config">
<em class="property">classmethod </em><code class="descname">write_config</code><span class="sig-paren">(</span><em>config: configparser.ConfigParser</em>, <em>identifier: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.write_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.write_config" title="Permalink to this definition">§</a></dt>
<dd><p>writes a configuration file to an correct config file path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>config</strong> &#8211; configuration file (configparser object)</li>
<li><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; identifier to user as the raget file name.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">configparser object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="libs.SysUtil.SysUtil.write_light_config">
<em class="property">classmethod </em><code class="descname">write_light_config</code><span class="sig-paren">(</span><em>config: configparser.ConfigParser</em>, <em>identifier: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#SysUtil.write_light_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.SysUtil.write_light_config" title="Permalink to this definition">§</a></dt>
<dd><p>writes a configuration file to an correct config file path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>config</strong> &#8211; configuration file (configparser object)</li>
<li><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) &#8211; identifier of the light.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">configparser object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="libs.SysUtil.sizeof_fmt">
<code class="descclassname">libs.SysUtil.</code><code class="descname">sizeof_fmt</code><span class="sig-paren">(</span><em>num</em>, <em>suffix='B'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/SysUtil.html#sizeof_fmt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.SysUtil.sizeof_fmt" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-libs.Updater">
<span id="libs-updater"></span><h2>libs.Updater<a class="headerlink" href="#module-libs.Updater" title="Permalink to this headline">§</a></h2>
<dl class="class">
<dt id="libs.Updater.Updater">
<em class="property">class </em><code class="descclassname">libs.Updater.</code><code class="descname">Updater</code><a class="reference internal" href="_modules/libs/Updater.html#Updater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Thread" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">threading.Thread</span></code></a></p>
<dl class="method">
<dt id="libs.Updater.Updater.add_to_identifiers">
<code class="descname">add_to_identifiers</code><span class="sig-paren">(</span><em>identifier: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.add_to_identifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.add_to_identifiers" title="Permalink to this definition">§</a></dt>
<dd><p>adds an identifier to the set of identifiers.
:param identifier: identifier to add
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.add_to_temp_identifiers">
<code class="descname">add_to_temp_identifiers</code><span class="sig-paren">(</span><em>temp_identifier: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.add_to_temp_identifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.add_to_temp_identifiers" title="Permalink to this definition">§</a></dt>
<dd><p>adds an identifier to the set of temporary identifiers. that may disappear
:param temp_identifier: identifier to add
:return:</p>
</dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.gather_data">
<code class="descname">gather_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.gather_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.gather_data" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.go">
<code class="descname">go</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.go"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.go" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.process_deque">
<code class="descname">process_deque</code><span class="sig-paren">(</span><em>cameras=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.process_deque"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.process_deque" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.run" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.set_config_data">
<code class="descname">set_config_data</code><span class="sig-paren">(</span><em>data: dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.set_config_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.set_config_data" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.set_yaml_data">
<code class="descname">set_yaml_data</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.set_yaml_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.set_yaml_data" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.stop" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Updater.Updater.upload_logs">
<code class="descname">upload_logs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Updater.html#Updater.upload_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Updater.Updater.upload_logs" title="Permalink to this definition">§</a></dt>
<dd><p>uploads rotated logs to the server.
:return:</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-libs.Uploader">
<span id="libs-uploader"></span><h2>libs.Uploader<a class="headerlink" href="#module-libs.Uploader" title="Permalink to this headline">§</a></h2>
<dl class="class">
<dt id="libs.Uploader.GenericUploader">
<em class="property">class </em><code class="descclassname">libs.Uploader.</code><code class="descname">GenericUploader</code><span class="sig-paren">(</span><em>identifier: str</em>, <em>source_dir: str = None</em>, <em>host: str = None</em>, <em>config: dict = None</em>, <em>queue: collections.deque = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#GenericUploader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.GenericUploader" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference internal" href="#libs.Uploader.Uploader" title="libs.Uploader.Uploader"><code class="xref py py-class docutils literal"><span class="pre">libs.Uploader.Uploader</span></code></a></p>
<p>Generic uploader for uploading logs sensor data, etc.</p>
<dl class="method">
<dt id="libs.Uploader.GenericUploader.fill_me">
<code class="descname">fill_me</code><span class="sig-paren">(</span><em>dict_of_values: dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#GenericUploader.fill_me"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.GenericUploader.fill_me" title="Permalink to this definition">§</a></dt>
<dd><p>fills self with values from a dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dict_of_values</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a>) &#8211; dictionary of key: values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="libs.Uploader.GenericUploader.re_init">
<code class="descname">re_init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#GenericUploader.re_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.GenericUploader.re_init" title="Permalink to this definition">§</a></dt>
<dd><p>Your config is in another castle.</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.Uploader.GenericUploader.remove_source_files">
<code class="descname">remove_source_files</code><em class="property"> = True</em><a class="headerlink" href="#libs.Uploader.GenericUploader.remove_source_files" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="libs.Uploader.Uploader">
<em class="property">class </em><code class="descclassname">libs.Uploader.</code><code class="descname">Uploader</code><span class="sig-paren">(</span><em>identifier: str</em>, <em>queue: collections.deque = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#Uploader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.Uploader" title="Permalink to this definition">§</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/threading.html#threading.Thread" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">threading.Thread</span></code></a></p>
<p>Uploader class,
used to upload,</p>
<dl class="method">
<dt id="libs.Uploader.Uploader.communicate_with_updater">
<code class="descname">communicate_with_updater</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#Uploader.communicate_with_updater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.Uploader.communicate_with_updater" title="Permalink to this definition">§</a></dt>
<dd><p>communication member. This is meant to send some metadata to the updater thread.</p>
</dd></dl>

<dl class="method">
<dt id="libs.Uploader.Uploader.mkdir_recursive">
<code class="descname">mkdir_recursive</code><span class="sig-paren">(</span><em>link</em>, <em>remote_directory</em>, <em>mkdir=None</em>, <em>chdir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#Uploader.mkdir_recursive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.Uploader.mkdir_recursive" title="Permalink to this definition">§</a></dt>
<dd><p>Creates directories recursively on the remote server</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>link</strong> &#8211; ftp/sftp connection object</li>
<li><strong>remote_directory</strong> &#8211; </li>
<li><strong>chdir</strong> &#8211; method used to change to a directory</li>
<li><strong>mkdir</strong> &#8211; method used to make a directory</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="libs.Uploader.Uploader.re_init">
<code class="descname">re_init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#Uploader.re_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.Uploader.re_init" title="Permalink to this definition">§</a></dt>
<dd><p>setup to be run each time the config is reloaded</p>
</dd></dl>

<dl class="attribute">
<dt id="libs.Uploader.Uploader.remove_source_files">
<code class="descname">remove_source_files</code><em class="property"> = True</em><a class="headerlink" href="#libs.Uploader.Uploader.remove_source_files" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="libs.Uploader.Uploader.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#Uploader.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.Uploader.run" title="Permalink to this definition">§</a></dt>
<dd><p>run method.
main loop for Uploaders.</p>
</dd></dl>

<dl class="method">
<dt id="libs.Uploader.Uploader.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#Uploader.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.Uploader.stop" title="Permalink to this definition">§</a></dt>
<dd><p>stopper method</p>
</dd></dl>

<dl class="method">
<dt id="libs.Uploader.Uploader.upload">
<code class="descname">upload</code><span class="sig-paren">(</span><em>file_names</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/libs/Uploader.html#Uploader.upload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libs.Uploader.Uploader.upload" title="Permalink to this definition">§</a></dt>
<dd><p>uploads files via sftp.
deletes the files as they are uploaded, creates new directories if needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_names</strong> &#8211; filenames to upload</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="libs.Uploader.Uploader.upload_interval">
<code class="descname">upload_interval</code><em class="property"> = 30</em><a class="headerlink" href="#libs.Uploader.Uploader.upload_interval" title="Permalink to this definition">§</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2016, Gareth Dunstone, Kevin Murray, Tim Brown.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
    </div>

    

    
  </body>
</html>